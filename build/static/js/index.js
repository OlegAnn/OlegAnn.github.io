"use strict";var _createClass=function(){function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.mainApp={patternFrontValid:!1,lastNumbers:!0,togglePattern:!1,counter:1,numberInput:document.querySelector(".number_card input")};var CheckNumberCard=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"checkPaymentSystem",value:function(){mainApp.numberInput.value.substring(0,1)/1==4?document.querySelector(".visa").classList.add("visa_open"):document.querySelector(".visa").classList.remove("visa_open"),mainApp.numberInput.value.substring(0,1)/1==5?document.querySelector(".master_card").classList.add("master_open"):document.querySelector(".master_card").classList.remove("master_open")}},{key:"checkFrontInputValid",value:function(){$(".front_input:invalid").length?($(".submit").removeClass("opacity"),mainApp.patternFrontValid=!1):(document.querySelector(".submit").classList.add("opacity"),mainApp.lastNumbers=document.querySelector(".number_card input").value.substring(18,22),mainApp.togglePattern&&(mainApp.patternFrontValid=!0),document.querySelector(".last_number").textContent=mainApp.lastNumbers)}},{key:"checkNumberCardValid",value:function(){if(!$(".number_card:invalid").length){var t=mainApp.numberInput.value;$(".alert_num_card").text(t),window.nubmer=[{value:t.substring(0,1)/1},{value:t.substring(1,2)/1},{value:t.substring(2,3)/1},{value:t.substring(3,4)/1},{value:t.substring(6,7)/1},{value:t.substring(7,8)/1},{value:t.substring(8,9)/1},{value:t.substring(9,10)/1},{value:t.substring(12,13)/1},{value:t.substring(13,14)/1},{value:t.substring(14,15)/1},{value:t.substring(15,16)/1},{value:t.substring(18,19)/1},{value:t.substring(19,20)/1},{value:t.substring(20,21)/1},{value:t.substring(21,22)/1}];(window.nubmer.reduce(function(t,e,n){return 0<n%2?t+e.value:t},0)+(e=window.nubmer.filter(function(t,e,n){if(e%2==0)return t}),window.doubledOddNumbers=[],e.forEach(function(t,e){var n=2*t.value;9<n&&(n=0==(n+="").substring(1,2)?n.substring(0,1)/1:n.substring(0,1)/1+n.substring(1,2)/1),window.doubledOddNumbers.push(n)}),window.doubledOddNumbers.reduce(function(t,e,n){return t+e},0)))%10==0?mainApp.togglePattern=!0:(document.querySelector(".modal_window").classList.add("show_modal"),mainApp.togglePattern=!0,mainApp.numberInput.value="5164  3513  4432  2225")}var e}}]),e}(),checkNumberCard=new CheckNumberCard;$(".front_input").on("keyup",function(){checkNumberCard.checkPaymentSystem(),checkNumberCard.checkFrontInputValid(),checkNumberCard.checkNumberCardValid()});var SubmitClick=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"init",value:function(){document.querySelector(this.selector).addEventListener("click",function(){mainApp.patternFrontValid&&(document.querySelector(".front").classList.toggle("front_click"),document.querySelector(".back").classList.toggle("back_click"),$("#credit_svg").lazylinepainter("paint"),document.querySelector("#credit_svg").classList.toggle("active"),mainApp.counter++,mainApp.counter%2==0?this.value="TOUCH TO FRONT":this.value="TOUCH TO BACK")})}}]),e}(),submit=new SubmitClick(".submit");submit.init();var Validation=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"init",value:function(){var t=this.selector.myinput;t[0].addEventListener("input",function(){var t=this.value.replace(/[^\d]/g,"").substring(0,16);t=""!=t?t.match(/.{1,4}/g).join("  "):"",0<(this.value=t).length?(this.parentElement.classList.add("help_card_code"),this.checkValidity()&&this.parentElement.classList.remove("help_card_code")):this.parentElement.classList.remove("help_card_code")},!1),t[1].addEventListener("input",function(){var t=this.value.replace(/[^\d]/g,"").substring(0,4);t=""!=t?t.match(/.{1,2}/g).join("/"):"",document.querySelector(".fa-caret-right").classList.toggle("action"),1<t.charAt(0)&&(t=t.substring(0,0));1==t[0]&&2<t.charAt(1)&&(t=t.replace(t.charAt(1)," "));t[0]+t[1]=="00"&&(t=t.replace(t,""));t[3]+t[4]=="00"&&(t=t.substring(0,4));0<(this.value=t).length?(this.parentElement.classList.add("help_thru"),this.checkValidity()&&this.parentElement.classList.remove("help_thru")):this.parentElement.classList.remove("help_thru")},!1),t[2].addEventListener("input",function(){var t=this.value.replace(/[\d]/g,"").substring(0,13);0<(this.value=t).length?(this.parentElement.classList.add("help_holder"),this.checkValidity()&&this.parentElement.classList.remove("help_holder")):this.parentElement.classList.remove("help_holder")},!1),t[3].addEventListener("input",function(){var t=this.value.replace(/[^\d]/g,"").substring(0,3);this.value=t},!1)}}]),e}(),validation=new Validation(myform);validation.init(),$(".back_input").on("keyup",function(){$(".back_input:invalid").length?$(".submit").val("TOUCH TO FRONT"):$(".submit").val("READY TO BUY")}),$(".chips_svg").on("click",function(){$(this).children(":first").toggleClass("front_svg_active"),$(this).children(":last").toggleClass("back_svg_active")}),$(".alert_button").on("click",function(){$(".modal_window").removeClass("show_modal")});var pathObj={credit_svg:{strokepath:[{path:"M351.5,0h-192C128.897,0,104,24.897,104,55.5v189.688c0,7.007,0.229,14.101,0.68,21.085l13.887,215.255   C119.633,498.054,133.441,511,150.001,511h210.997c16.561,0,30.368-12.946,31.435-29.472l13.887-215.254   c0.451-6.984,0.68-14.079,0.68-21.085V55.5C407,24.897,382.103,0,351.5,0z M392,245.188c0,6.686-0.218,13.455-0.648,20.119   l-13.887,215.255c-0.559,8.657-7.792,15.438-16.466,15.438H150.001c-8.674,0-15.907-6.781-16.466-15.438l-13.887-215.255   c-0.43-6.664-0.648-13.433-0.648-20.119V55.5c0-22.332,18.168-40.5,40.5-40.5h192c22.332,0,40.5,18.168,40.5,40.5V245.188z",duration:300},{path:"M351.5,464h-192c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h192c4.142,0,7.5-3.358,7.5-7.5S355.642,464,351.5,464z",duration:600},{path:"M239.5,135c4.142,0,7.5-3.358,7.5-7.5v-16c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v16   C232,131.642,235.358,135,239.5,135z",duration:300},{path:"M207.5,135c4.142,0,7.5-3.358,7.5-7.5v-16c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v16   C200,131.642,203.358,135,207.5,135z",duration:600},{path:"M271.5,135c4.142,0,7.5-3.358,7.5-7.5v-16c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v16   C264,131.642,267.358,135,271.5,135z",duration:300},{path:"M303.5,135c4.142,0,7.5-3.358,7.5-7.5v-16c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v16   C296,131.642,299.358,135,303.5,135z",duration:600},{path:"M171.5,303h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S160.748,303,171.5,303z M171.5,279h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S169.019,279,171.5,279z",duration:300},{path:"M243.5,303h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S232.748,303,243.5,303z M243.5,279h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S241.019,279,243.5,279z",duration:600},{path:"M339.5,264h-24c-10.752,0-19.5,8.748-19.5,19.5s8.748,19.5,19.5,19.5h24c10.752,0,19.5-8.748,19.5-19.5   S350.252,264,339.5,264z M339.5,288h-24c-2.481,0-4.5-2.019-4.5-4.5s2.019-4.5,4.5-4.5h24c2.481,0,4.5,2.019,4.5,4.5   S341.981,288,339.5,288z",duration:100},{path:"M171.5,351h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S160.748,351,171.5,351z M171.5,327h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S169.019,327,171.5,327z",duration:600},{path:"M243.5,351h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S232.748,351,243.5,351z M243.5,327h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S241.019,327,243.5,327z",duration:100},{path:"M339.5,312h-24c-10.752,0-19.5,8.748-19.5,19.5s8.748,19.5,19.5,19.5h24c10.752,0,19.5-8.748,19.5-19.5   S350.252,312,339.5,312z M339.5,336h-24c-2.481,0-4.5-2.019-4.5-4.5s2.019-4.5,4.5-4.5h24c2.481,0,4.5,2.019,4.5,4.5   S341.981,336,339.5,336z",duration:600},{path:"M171.5,399h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S160.748,399,171.5,399z M171.5,375h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S169.019,375,171.5,375z",duration:100},{path:"M243.5,399h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S232.748,399,243.5,399z M243.5,375h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S241.019,375,243.5,375z",duration:600},{path:"M339.5,360h-24c-10.752,0-19.5,8.748-19.5,19.5s8.748,19.5,19.5,19.5h24c10.752,0,19.5-8.748,19.5-19.5   S350.252,360,339.5,360z M339.5,384h-24c-2.481,0-4.5-2.019-4.5-4.5s2.019-4.5,4.5-4.5h24c2.481,0,4.5,2.019,4.5,4.5   S341.981,384,339.5,384z",duration:100},{path:"M171.5,447h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S160.748,447,171.5,447z M171.5,423h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S169.019,423,171.5,423z",duration:500},{path:"M243.5,447h24c10.752,0,19.5-8.748,19.5-19.5s-8.748-19.5-19.5-19.5h-24c-10.752,0-19.5,8.748-19.5,19.5   S232.748,447,243.5,447z M243.5,423h24c2.481,0,4.5,2.019,4.5,4.5s-2.019,4.5-4.5,4.5h-24c-2.481,0-4.5-2.019-4.5-4.5   S241.019,423,243.5,423z",duration:100},{path:"M339.5,408h-24c-10.752,0-19.5,8.748-19.5,19.5s8.748,19.5,19.5,19.5h24c10.752,0,19.5-8.748,19.5-19.5   S350.252,408,339.5,408z M339.5,432h-24c-2.481,0-4.5-2.019-4.5-4.5s2.019-4.5,4.5-4.5h24c2.481,0,4.5,2.019,4.5,4.5   S341.981,432,339.5,432z",duration:600},{path:"M351.5,56h-192C146.542,56,136,66.542,136,79.5v144c0,12.958,10.542,23.5,23.5,23.5h192c12.958,0,23.5-10.542,23.5-23.5   v-144C375,66.542,364.458,56,351.5,56z M248,215v17h-41v-17H248z M263,215h41v17h-41V215z M159.5,200   c-2.997,0-5.862,0.57-8.5,1.598v-20.195c2.638,1.028,5.503,1.598,8.5,1.598h192c2.997,0,5.862-0.57,8.5-1.598v20.195   c-2.638-1.028-5.503-1.598-8.5-1.598H159.5z M151,79.5c0-4.687,3.813-8.5,8.5-8.5h192c4.687,0,8.5,3.813,8.5,8.5v80   c0,4.687-3.813,8.5-8.5,8.5h-192c-4.687,0-8.5-3.813-8.5-8.5V79.5z M151,223.5c0-4.687,3.813-8.5,8.5-8.5H192v17h-32.5   C154.813,232,151,228.187,151,223.5z M351.5,232H319v-17h32.5c4.687,0,8.5,3.813,8.5,8.5S356.187,232,351.5,232z",duration:700}],dimensions:{width:515,height:515}}};$(document).ready(function(){$("#credit_svg").lazylinepainter({svgData:pathObj,strokeWidth:1,strokeColor:"#625F5B",ease:"easeInOutExpo"})});