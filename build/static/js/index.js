"use strict";var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.mainApp={patternFrontValid:!1,lastNumbers:!0,togglePattern:!1,counter:1,numberInput:document.querySelector(".number_card input")};var SubmitClick=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"init",value:function(){document.querySelector(this.selector).addEventListener("click",function(){mainApp.patternFrontValid&&(document.querySelector(".front").classList.toggle("front_click"),document.querySelector(".back").classList.toggle("back_click"),mainApp.counter++,mainApp.counter%2==0?this.value="TOUCH TO FRONT":this.value="TOUCH TO BACK")})}}]),t}(),submit=new SubmitClick(".submit");submit.init();var Validation=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"init",value:function(){var e=this.selector.myinput;e[0].addEventListener("input",function(){var e=this.value.replace(/[^\d]/g,"").substring(0,16);e=""!=e?e.match(/.{1,4}/g).join("  "):"",this.value=e},!1),e[1].addEventListener("input",function(){var e=this.value.replace(/[^\d]/g,"").substring(0,4);e=""!=e?e.match(/.{1,2}/g).join("/"):"",document.querySelector(".fa-caret-right").classList.toggle("action"),1<e.charAt(0)&&(e=e.substring(0,0));1==e[0]&&2<e.charAt(1)&&(e=e.replace(e.charAt(1)," "));e[0]+e[1]=="00"&&(e=e.replace(e,""));e[3]+e[4]=="00"&&(e=e.substring(0,4));this.value=e},!1),e[2].addEventListener("input",function(){var e=this.value.replace(/[\d]/g,"").substring(0,13);this.value=e},!1),e[3].addEventListener("input",function(){var e=this.value.replace(/[^\d]/g,"").substring(0,3);this.value=e},!1)}}]),t}(),validation=new Validation(myform);validation.init();var CheckNumberCard=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"init",value:function(){if(mainApp.numberInput.value.substring(0,1)/1==4?document.querySelector(".visa").classList.add("visa_open"):document.querySelector(".visa").classList.remove("visa_open"),mainApp.numberInput.value.substring(0,1)/1==5?document.querySelector(".master_card").classList.add("master_open"):document.querySelector(".master_card").classList.remove("master_open"),$(".front_input:invalid").length?($(".submit").removeClass("opacity"),console.log(mainApp.patternFrontValid,"novalud"),mainApp.patternFrontValid=!1):(document.querySelector(".submit").classList.add("opacity"),mainApp.lastNumbers=document.querySelector(".number_card input").value.substring(18,22),mainApp.togglePattern&&(mainApp.patternFrontValid=!0),console.log(mainApp.patternFrontValid,"valid"),console.log(mainApp.lastNumbers,"lastnumber"),document.querySelector(".last_number").textContent=mainApp.lastNumbers,document.querySelector(".red").classList.remove("ered"),document.querySelector(".yellow").classList.remove("eyellow")),!$(".number_card:invalid").length){var e=mainApp.numberInput.value;$(".alert_num_card").text(e),window.nubmer=[{value:e.substring(0,1)/1},{value:e.substring(1,2)/1},{value:e.substring(2,3)/1},{value:e.substring(3,4)/1},{value:e.substring(6,7)/1},{value:e.substring(7,8)/1},{value:e.substring(8,9)/1},{value:e.substring(9,10)/1},{value:e.substring(12,13)/1},{value:e.substring(13,14)/1},{value:e.substring(14,15)/1},{value:e.substring(15,16)/1},{value:e.substring(18,19)/1},{value:e.substring(19,20)/1},{value:e.substring(20,21)/1},{value:e.substring(21,22)/1}];var t=window.nubmer.reduce(function(e,t,n){return 0<n%2?e+t.value:e},0),n=function(){var e=window.nubmer.filter(function(e,t,n){if(t%2==0)return e});window.a=[];e.forEach(function(e,t){var n=2*e.value;9<n&&(n=0==(n+="").substring(1,2)?n.substring(0,1)/1:n.substring(0,1)/1+n.substring(1,2)/1),window.a.push(n)});return window.a.reduce(function(e,t,n){return e+t},0)};(t+n())%10==0?mainApp.togglePattern=!0:(document.querySelector(".modal_window").classList.add("show_modal"),mainApp.togglePattern=!0,mainApp.numberInput.value="5164  3513  4432  2225",console.log(e,"number")),console.log(t),console.log(n()),console.log(e)}}}]),t}(),checkNumberCard=new CheckNumberCard;$(".front_input").on("keyup",function(){checkNumberCard.init()}),$(".back_input").on("keyup",function(){$(".back_input:invalid").length?$(".submit").val("TOUCH TO FRONT"):$(".submit").val("READY TO BUY")}),$(".chips_svg").on("click",function(){$(this).children(":first").toggleClass("front_svg_active"),$(this).children(":last").toggleClass("back_svg_active")}),$(".alert_button").on("click",function(){$(".modal_window").removeClass("show_modal")});